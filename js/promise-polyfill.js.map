{"version":3,"names":[],"mappings":"","sources":["promise-polyfill.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";window.Promise=require(\"es6-promise\").Promise;\n\n\n},{\"es6-promise\":3}],2:[function(require,module,exports){\nfunction drainQueue(){if(!draining){draining=!0;for(var e,o=queue.length;o;){e=queue,queue=[];for(var r=-1;++r<o;)e[r]();o=queue.length}draining=!1}}function noop(){}var process=module.exports={},queue=[],draining=!1;process.nextTick=function(e){queue.push(e),draining||setTimeout(drainQueue,0)},process.title=\"browser\",process.browser=!0,process.env={},process.argv=[],process.version=\"\",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error(\"process.binding is not supported\")},process.cwd=function(){return\"/\"},process.chdir=function(e){throw new Error(\"process.chdir is not supported\")},process.umask=function(){return 0};\n\n\n},{}],3:[function(require,module,exports){\n(function (process,global){\n(function(){\"use strict\";function t(t){return\"function\"==typeof t||\"object\"==typeof t&&null!==t}function e(t){return\"function\"==typeof t}function n(t){return\"object\"==typeof t&&null!==t}function r(t,e){Q[W]=t,Q[W+1]=e,W+=2,2===W&&N()}function o(){var t=process.nextTick,e=process.versions.node.match(/^(?:(\\d+)\\.)?(?:(\\d+)\\.)?(\\*|\\d+)$/);return Array.isArray(e)&&\"0\"===e[1]&&\"10\"===e[2]&&(t=setImmediate),function(){t(a)}}function i(){return function(){L(a)}}function u(){var t=0,e=new G(a),n=document.createTextNode(\"\");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function s(){var t=new MessageChannel;return t.port1.onmessage=a,function(){t.port2.postMessage(0)}}function c(){return function(){setTimeout(a,1)}}function a(){for(var t=0;W>t;t+=2){var e=Q[t],n=Q[t+1];e(n),Q[t]=void 0,Q[t+1]=void 0}W=0}function f(){try{var t=require,e=t(\"vertx\");return L=e.runOnLoop||e.runOnContext,i()}catch(n){return c()}}function l(){}function p(){return new TypeError(\"You cannot resolve a promise with itself\")}function h(){return new TypeError(\"A promises callback cannot return that same promise.\")}function _(t){try{return t.then}catch(e){return Z.error=e,Z}}function d(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function v(t,e,n){$(function(t){var r=!1,o=d(n,e,function(n){r||(r=!0,e!==n?b(t,n):w(t,n))},function(e){r||(r=!0,A(t,e))},\"Settle: \"+(t._label||\" unknown promise\"));!r&&o&&(r=!0,A(t,o))},t)}function y(t,e){e._state===V?w(t,e._result):t._state===X?A(t,e._result):E(e,void 0,function(e){b(t,e)},function(e){A(t,e)})}function m(t,n){if(n.constructor===t.constructor)y(t,n);else{var r=_(n);r===Z?A(t,Z.error):void 0===r?w(t,n):e(r)?v(t,n,r):w(t,n)}}function b(e,n){e===n?A(e,p()):t(n)?m(e,n):w(e,n)}function g(t){t._onerror&&t._onerror(t._result),j(t)}function w(t,e){t._state===R&&(t._result=e,t._state=V,0!==t._subscribers.length&&$(j,t))}function A(t,e){t._state===R&&(t._state=X,t._result=e,$(g,t))}function E(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+V]=n,o[i+X]=r,0===i&&t._state&&$(j,t)}function j(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,o,i=t._result,u=0;u<e.length;u+=3)r=e[u],o=e[u+n],r?P(n,r,o,i):o(i);t._subscribers.length=0}}function S(){this.error=null}function T(t,e){try{return t(e)}catch(n){return tt.error=n,tt}}function P(t,n,r,o){var i,u,s,c,a=e(r);if(a){if(i=T(r,o),i===tt?(c=!0,u=i.error,i=null):s=!0,n===i)return void A(n,h())}else i=o,s=!0;n._state!==R||(a&&s?b(n,i):c?A(n,u):t===V?w(n,i):t===X&&A(n,i))}function x(t,e){try{e(function(e){b(t,e)},function(e){A(t,e)})}catch(n){A(t,n)}}function C(t,e){var n=this;n._instanceConstructor=t,n.promise=new t(l),n._validateInput(e)?(n._input=e,n.length=e.length,n._remaining=e.length,n._init(),0===n.length?w(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&w(n.promise,n._result))):A(n.promise,n._validationError())}function M(t){return new et(this,t).promise}function O(t){function e(t){b(o,t)}function n(t){A(o,t)}var r=this,o=new r(l);if(!U(t))return A(o,new TypeError(\"You must pass an array to race.\")),o;for(var i=t.length,u=0;o._state===R&&i>u;u++)E(r.resolve(t[u]),void 0,e,n);return o}function k(t){var e=this;if(t&&\"object\"==typeof t&&t.constructor===e)return t;var n=new e(l);return b(n,t),n}function I(t){var e=this,n=new e(l);return A(n,t),n}function Y(){throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\")}function q(){throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\")}function F(t){this._id=ut++,this._state=void 0,this._result=void 0,this._subscribers=[],l!==t&&(e(t)||Y(),this instanceof F||q(),x(this,t))}function D(){var t;if(\"undefined\"!=typeof global)t=global;else if(\"undefined\"!=typeof self)t=self;else try{t=Function(\"return this\")()}catch(e){throw new Error(\"polyfill failed because global object is unavailable in this environment\")}var n=t.Promise;(!n||\"[object Promise]\"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(t.Promise=st)}var K;K=Array.isArray?Array.isArray:function(t){return\"[object Array]\"===Object.prototype.toString.call(t)};var L,N,U=K,W=0,$=({}.toString,r),z=\"undefined\"!=typeof window?window:void 0,B=z||{},G=B.MutationObserver||B.WebKitMutationObserver,H=\"undefined\"!=typeof process&&\"[object process]\"==={}.toString.call(process),J=\"undefined\"!=typeof Uint8ClampedArray&&\"undefined\"!=typeof importScripts&&\"undefined\"!=typeof MessageChannel,Q=new Array(1e3);N=H?o():G?u():J?s():void 0===z&&\"function\"==typeof require?f():c();var R=void 0,V=1,X=2,Z=new S,tt=new S;C.prototype._validateInput=function(t){return U(t)},C.prototype._validationError=function(){return new Error(\"Array Methods must be provided an Array\")},C.prototype._init=function(){this._result=new Array(this.length)};var et=C;C.prototype._enumerate=function(){for(var t=this,e=t.length,n=t.promise,r=t._input,o=0;n._state===R&&e>o;o++)t._eachEntry(r[o],o)},C.prototype._eachEntry=function(t,e){var r=this,o=r._instanceConstructor;n(t)?t.constructor===o&&t._state!==R?(t._onerror=null,r._settledAt(t._state,e,t._result)):r._willSettleAt(o.resolve(t),e):(r._remaining--,r._result[e]=t)},C.prototype._settledAt=function(t,e,n){var r=this,o=r.promise;o._state===R&&(r._remaining--,t===X?A(o,n):r._result[e]=n),0===r._remaining&&w(o,r._result)},C.prototype._willSettleAt=function(t,e){var n=this;E(t,void 0,function(t){n._settledAt(V,e,t)},function(t){n._settledAt(X,e,t)})};var nt=M,rt=O,ot=k,it=I,ut=0,st=F;F.all=nt,F.race=rt,F.resolve=ot,F.reject=it,F.prototype={constructor:F,then:function(t,e){var n=this,r=n._state;if(r===V&&!t||r===X&&!e)return this;var o=new this.constructor(l),i=n._result;if(r){var u=arguments[r-1];$(function(){P(r,o,u,i)})}else E(n,o,t,e);return o},\"catch\":function(t){return this.then(null,t)}};var ct=D,at={Promise:st,polyfill:ct};\"function\"==typeof define&&define.amd?define(function(){return at}):\"undefined\"!=typeof module&&module.exports?module.exports=at:\"undefined\"!=typeof this&&(this.ES6Promise=at),ct()}).call(this);\n\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"_process\":2}]},{},[1]);\n"],"file":"promise-polyfill.js","sourceRoot":"/source/"}